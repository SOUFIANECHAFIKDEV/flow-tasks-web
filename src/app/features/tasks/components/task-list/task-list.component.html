<table mat-table [dataSource]="tasks" class="mat-elevation-z1 full">
    <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>Titre</th>
        <td mat-cell *matCellDef="let t">{{t.title}}</td>
    </ng-container>

    <ng-container matColumnDef="assignedTo">
        <th mat-header-cell *matHeaderCellDef>Assignée</th>
        <td mat-cell *matCellDef="let t">{{t?.user != null ? (t?.user?.firstName + ' ' + t?.user?.lastName) : '—'}}</td>
    </ng-container>

    <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Statut</th>
        <td mat-cell *matCellDef="let t">
            <span class="status" [ngClass]="statusClass(t.status)">
                {{ statusLabel(t.status) }}
            </span>
        </td>
    </ng-container>

    <ng-container matColumnDef="createdAtUtc">
        <th mat-header-cell *matHeaderCellDef>Date de Creation</th>
        <td mat-cell *matCellDef="let t">{{ t.createdAtUtc | date:'dd/MM/yyyy HH:mm:ss' }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let t" class="actions">
            <button mat-stroked-button color="primary" (click)="requestUpdateStatus.emit(t)">Modifier statut</button>
            <button mat-stroked-button color="warn" (click)="requestDelete.emit(t)">Supprimer</button>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayed"></tr>
    <tr mat-row *matRowDef="let row; columns: displayed;"></tr>
</table>

<div class="no-data" *ngIf="tasks.length === 0">
    <mat-icon>info</mat-icon>
    Aucune donnée trouvée
</div>